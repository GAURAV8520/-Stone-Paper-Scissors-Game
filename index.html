<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>......Play .....Stone paper secior game</p>
    <button onclick="
                playGame('stone');
    " >stone</button>
    <button onclick="
             playGame('paper');
    ">paper</button>
    <button onclick="
        playGame('secior');
    "
     >secior</button>
     <button onclick="
            score.win=0;
            score.losses=0;
            score.tie=0;

     
     ">reset</button>

<script>

        let score=JSON.parse(localStorage.getItem('score'))||{
            win:0,
            losses:0,
            tie:0
        };
        /*if(!score){
            score={
            win:0,
            losses:0,
            tie:0
            }
         }*/

        function playGame(play){

            const res =computerMove();

            let final='';
                if(play=='secior'){
                
                    if(res==='stone'){

                        final='you lose';

                    }else if(res==='paper'){
                        final='you won';
                    }
                    else if(res==='scisor'){
                        final='match is tie';
                    }
                }
                else if(play=='stone'){
                  
                if(res==='stone'){

                    final='match is tie';

                }else if(res==='paper'){
                    final='you won';
                }
                else if(res==='scisor'){
                    final='you lose';
                }

                }
                else if(play=='paper'){
                  
                        if(res==='stone'){

                            final='You won';

                        }else if(res==='paper'){
                            final='match is tie';
                        }
                        else if(res==='scisor'){
                            final='you lose';
                        }
                }


            if(final=='You won'){
                score.win+=1;
            }else if(final=='match is tie'){
                score.tie+=1;
            }else if(final=='you lose'){
                score.losses+=1;
            }
            
            localStorage.setItem('score',JSON.stringify(score));
            alert(`you choosen an ${play}. computer choose a ${res}.and hence ....${final}
win:${score.win} ,losses:${score.losses},tie:${score.tie}`);
            
        }
        function computerMove(){
            const ran = Math.random();
            let res='';
            if(ran>=0 && ran<1/3){

                res='stone';

            }else if(ran>=1/3 && ran<2/3){
                res='paper';
            }
            else if(ran>=2/3 && ran<1){
                res='scisor';
            }

            return res;

        }


        
    </script>
</body>
</html>